{% extends 'base.html' %}  
{% block content %}
<link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css" />
<script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"></script>

<div class="home-container">
        <h1>Welcome to the Pacific Culture!</h1>
    </div>
    {% load static %}
    <div class="image-container">
        <img src="{% static 'sample.jpg' %}" class="image" alt="Pacific Culture" />
    </div>
    <div class="home-container">
        <h3>CULTURAL TRADITIONS</h3>
    </div>
    <div class="image-row">
        <div class="image-containers">
            <a href="{% url 'dine_details' pk=1 %}">
                <img src="{% static 'Kaimatoalogo.jpg' %}" class="image1" />
            </a>
            <h3>Kiribati</h3> 
            <h4>Dance in Kiribati or Te Kaimatoa</h4>
            <p>One of the most iconic traditions of Kiribati, which often differs from other Pacific dances, is its unique traditional dance style.</p>
        </div>
        <div class="image-containers">
            <a href="{% url 'dine_details' pk=2 %}">
                <img src="{% static 'Hulalogo.jpg' %}" class="image1" />
            </a>
            <h3>Hawaii</h3>
            <h4>Hula</h4>
            <p>Developed in the <b>Hawaiian Islands</b> by the <b>Native Hawaiians</b> who settled in Hawaii. It protrays the words of the oli or mele in a visual dance form.</p>
        </div>
        <div class="image-containers">
            <a href="{% url 'dine_details' pk=3 %}">
                <img src="{% static 'Pealogo.jpg' %}" class="image1" />
            </a>
            <h3>Samoa</h3>    
            <h4>Tatau or Pe'a</h4>
            <p>The popular name of the traditional male tatau <b>(tattoo)</b> of Samoa, also known as the <i>malofie</i>.</p>
        </div>
    </div>
    <div class="image-row">
        <div class="image-containers">
            <a href="{% url 'dine_details' pk=4 %}">
                <img src="{% static 'Lovofeastlogo.jpg' %}" class="image1" />
            </a> 
            <h3>Fiji</h3>
            <h4>Lovo Feast</h4>
            <p>An underground oven used as a traditional <b>Fijian</b> method of cooking food in large amount to bring people together.</p>
        </div>
        <div class="image-containers">
            <a href="{% url 'dine_details' pk=5 %}">
                <img src="{% static 'Uralogo.jpg' %}" class="image1" />
            </a>
            <h3>Rarotonga Islands</h3>
            <h4>Ura</h4>
            <p>Similar to Hawaiian hula, Ura is a vibrant and sacred dance style performed by women, accompanied by powerful drumming that tells stories through their movement.</p>
        </div>
        <div class="image-containers">
            <a href="{% url 'dine_details' pk=6 %}">
                <img src="{% static 'Kavalogo.jpg' %}" class="image1" />
            </a>
            <h3>Tonga</h3>    
            <h4>Kava Ceremony</h4>
            <p>A highly respected and formal tradition in Tonga. These ceremonies are a variaty of ceremonies which involves the <b>kava plant</b> that play an important and integral part of Tongan Society.</p>
        </div>
    </div>
    <div class="home-container">
        <h3>ATTRACTIONS</h3>
    </div>
    <div class="attraction-container">
        <div class="image-content">
            <div>
                <h2>Kiribati</h2>
                <p>A small nation of remote <i>coral atolls</i> and <i>unspoiled nature</i>, this perfect island, Kiribati, is perfect
                    for everyone seeking a true off-the-grid experience. Relics from World Ward 2 to prestine beaches and <i>one of the largest
                    marine reserves in the world</i>, this nation is a safe haven with love of historic moments, wildlife, and eco-travelers.
                </p>
            </div>
            <div class="images-contents">
                <img src="{% static 'sample.jpg' %}" class="image1" />
            </div>
        </div>
        <div class="image-content">
            <div>
                <h2>Hawaii</h2>
                <p>The land of breathtaking landscapes, active volcanoes, and popular beaches around the world. Whether you are catching waves
                    at <i>Waikiki</i>, hiking lush valleys, or traveling over historic Pearl Harbor, Hawaii provides a perfect blend of adventure,
                    relaxation, and cultural experiences immersed in the spirit of Aloha.
                </p>
            </div>
            <div class="images-contents">
                <img src="{% static 'sample.jpg' %}" class="image1" />
            </div>
        </div>
        <div class="image-content">
            <div>
                <h2>Samoa</h2>
                <p>Samoa, famously known as the <i>"Cradle of Polynesia"</i>, is a place of rich waterfalls, natural swimming holes, and clear beaches.
                    The islands are greatly rooted in Samoan culture, with villages that are very traditional and unique, lively dances performances,
                    and heartwarming hospitality. It is an ideal adventure for anyone looking to feel and explore an authentic island experience.
                </p>
            </div>
            <div class="images-contents">
                <img src="{% static 'sample.jpg' %}" class="image1" />
            </div>
        </div>
        <div class="image-content">
            <div>
                <h2>Fiji</h2>
                <p>This country of Fiji is known world-wide for its <i>turquoise waters, vibrant coral reefs, and grand island resorts</i>. Whether you're snorkling
                    with marine life, having a great time at a traditional Fijian feast, or exploring ancient sand dunes, this amazing island offers the 
                    ultimate blend of adventure, relaxation, and traditional richness.
                </p>
            </div>
            <div class="images-contents">
                <img src="{% static 'sample.jpg' %}" class="image1" />
            </div>
        </div>
        <div class="image-content">
            <div>
                <h2>Rarotonga</h2>
                <p>Rarotonga is a hidden-gem in the South Pacific, showing off stunning lagoons, rich mountains, and a laid-back island life. Travelers can
                    kayak in clear waters, hike through tropical forests, and explore the energetic culture through music, dance, local shops. This untouched
                    paradise is waiting for travelers to be explored.  
                </p>
            </div>
            <div class="images-contents">
                <img src="{% static 'sample.jpg' %}" class="image1" />
            </div>
        </div>
        <div class="image-content">
            <div>
                <h2>Tonga</h2>
                <p>Tonga,famously known world-wide as the <i>"Friendly Islands</i>, this island is a paradise of untouched beauty and vibrant cultural
                    history. Travelers can explore ancient rock monuments, <i>theatrical</i> blowholes, and caves. With its clear beaches, islands, and
                    a strong connection to the Polynesian traditions, Tonga provides a peaceful and relaxing island life.
                </p>
            </div>
            <div class="images-contents">
                <img src="{% static 'sample.jpg' %}" class="image1" />
            </div>
        </div>
    </div>
    <div id="interactive-map" style="height: 800px; width: 80%; margin: 0 auto; display: block;"></div>
    <script>
        var interactiveMap = L.map('interactive-map').setView([-13.759, -172.1046], 4);

        L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
            attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'
        }).addTo(interactiveMap);

        // Initial location of map
        var marker = L.marker([-13.759, -172.1046]).addTo(interactiveMap);
        marker.bindPopup('<b>Welcome to the Pacific Islands!</b>').openPopup();

        // handle the location of the search
        function placeSearch() {
            var insertLocation = document.getElementById('searchBox').value;

            // API request to search for the desired location with OpenStreetMap's geocoding API)
            fetch('https://nominatim.openstreetmap.org/search?format=json&q=' + insertLocation)
                .then(response => response.json())
                .then(data => {
                    if (data.length > 0) {
                        var place = data[0];
                        var lat = place.lat;
                        var lon = place.lon;
                        
                        // For the new location and update the marker
                        interactiveMap.setView([lat, lon], 15);
                        marker.setLatLng([lat, lon]);
                        marker.bindPopup('<b>' + place.display_name + '</b>').openPopup();
                    } else {
                        alert('Place not found!');
                    }
                });
        }
    </script>

    <!-- Search Box -->
    <input id="searchBox" type="text" placeholder="Search for a place" style="width: 400px; margin: 10px auto; display: block; padding: 10px;">
    <button class="interactive-map-button" onclick="placeSearch()">Search</button>
{% endblock %}